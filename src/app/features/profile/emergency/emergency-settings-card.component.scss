.emergency-settings-title {
  font-size: 18px;
  font-weight: 700;
  color: var(--app-color-primary);
  margin: 4px 0 16px;
  letter-spacing: .5px;
}

.emergency-setting-card {
  background: var(--app-color-surface);
  border: 1px solid var(--app-color-border);
  border-radius: var(--app-radius-lg);
  padding: 14px 16px 14px 16px;
  box-shadow: var(--app-shadow-sm);
  position: relative;
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  gap: 14px;
  margin-bottom: 14px;
}

.emergency-setting-info { flex: 1; }

.emergency-setting-title {
  font-weight: 600;
  font-size: 14px;
  letter-spacing: .3px;
  color: var(--app-color-primary);
  display: flex;
  align-items: center;
  gap: 6px;
}
.emergency-setting-title ion-icon { font-size:18px; color: var(--app-color-primary-light); }

.emergency-setting-desc {
  color: var(--app-color-text-soft);
  font-size: 12.5px;
  line-height: 1.35;
  margin-top: 4px;
}

.emergency-setting-status {
  margin-top: 6px;
  font-size: 12px;
  font-weight: 500;
  color: var(--app-color-primary-light);
}

.emergency-setting-actions {
  display: flex;
  align-items: center;
  gap: 6px;
}

/* Emergency Specific Instructions section */
.emergency-specific-card {
  background: #ffffff;
  border-radius: 16px;
  padding: 16px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);
  margin: 16px 0;
  border: 1px solid #e4f0ee;
}

.es-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
  margin-bottom: 12px;
}

.es-title {
  display: flex;
  align-items: center;
  gap: 10px;
  color: #025449;
  font-weight: 700;
  letter-spacing: 0.2px;
}

.es-title ion-icon {
  font-size: 24px;
}

.es-text .es-label {
  font-size: 11px;
  text-transform: uppercase;
  letter-spacing: 1px;
  color: #4d7c75;
}

.es-text .es-heading {
  font-size: 18px;
  font-weight: 700;
  color: #025449;
}

.es-actions {
  display: flex;
  gap: 8px;
}

.es-actions ion-button[fill="outline"] {
  --border-radius: 10px;
  --border-width: 1.5px;
  font-weight: 700;
}

.es-actions ion-button[fill="clear"] {
  font-weight: 700;
}

.es-list {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.es-item {
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: 10px;
  padding: 12px;
  border: 1px solid #e8f2f0;
  border-radius: 12px;
  background: #f9fbfb;
}

.es-pill {
  background: #e7f5f2;
  color: #025449;
  border-radius: 999px;
  padding: 6px 12px;
  font-weight: 600;
  font-size: 13px;
  border: 1px solid #c8e5df;
}

.es-body {
  color: #2f4f4b;
  font-size: 14px;
  line-height: 1.4;
}

.es-instruction {
  overflow: hidden;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  line-clamp: 2;
}

.es-empty {
  text-align: center;
  color: #7a8d8a;
  padding: 20px 12px;
  display: grid;
  gap: 8px;
  justify-items: center;
}

.es-empty ion-icon {
  font-size: 32px;
  color: #c5dcd7;
}

/* Wrapper card & header for unified look */
.emergency-settings-wrapper-card {
  background: var(--app-color-primary-bg);
  border: 1px solid var(--app-color-border);
  border-radius: var(--app-radius-lg);
  padding: 0 0 16px 0;
  margin-bottom: 18px;
  box-shadow: var(--app-shadow-sm);
  overflow: hidden;
}
.emergency-settings-header-bar {
  display: flex;
  align-items: center;
  gap: 8px;
  background: var(--app-color-primary);
  color: #fff;
  padding: 10px 14px 9px 14px;
  font-weight: 600;
  font-size: 15px;
  letter-spacing: .5px;
}
.emergency-settings-header-bar ion-icon { font-size: 18px; }
.settings-group { padding: 12px 14px 4px 14px; }

/* Harmonize ion-item host for header and setting rows */
ion-item.emergency-settings-header-bar {
  --background: var(--app-color-primary);
  --color: #fff;
  --padding-start: 14px;
  --padding-end: 14px;
  --inner-padding-top: 10px;
  --inner-padding-bottom: 9px;
}
ion-item.emergency-settings-header-bar::part(native) {
  border-bottom: none;
}
ion-item.emergency-setting-card {
  --background: var(--app-color-surface);
  --padding-start: 14px;
  --padding-end: 14px;
  --inner-padding-top: 12px;
  --inner-padding-bottom: 12px;
  --border-radius: var(--app-radius-md);
}
ion-item.emergency-setting-card::part(native) {
  border: 1px solid var(--app-color-border);
  box-shadow: var(--app-shadow-sm);
}

/* Compact card variant */
.emergency-setting-card.compact { border-radius: var(--app-radius-md); padding: 12px 14px; margin-bottom: 10px; }
.emergency-setting-card.compact:last-child { margin-bottom: 14px; }

/* Label and actions alignment within ion-item */
ion-label.emergency-setting-info { display: block; }
.emergency-setting-actions { margin-left: 8px; }
ion-buttons.emergency-setting-actions ion-toggle { margin-left: 6px; }

/* Inline add instructions button */
.inline-add-instructions { margin-top: 10px; }
.inline-add-instructions ion-button { --border-radius: var(--app-radius-sm); }

/* Testing grid */
.emergency-testing-subheader {
  font-size: 11.5px;
  font-weight: 600;
  letter-spacing: .6px;
  text-transform: uppercase;
  color: var(--app-color-primary);
  padding: 4px 14px 0 14px;
}
.emergency-test-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit,minmax(110px,1fr));
  gap: 8px;
  padding: 10px 14px 4px 14px;
}
.emergency-test-grid ion-button {
  --border-radius: var(--app-radius-md);
  --padding-start: 8px;
  --padding-end: 8px;
  font-size: 12px;
  font-weight: 500;
  letter-spacing: .3px;
}

/* Toggle & button harmonization */
ion-toggle { --handle-background: var(--app-color-primary); --background-checked: var(--app-color-primary-light); }
ion-button.emergency-inline-btn { --background: var(--app-color-primary); --border-radius: var(--app-radius-sm); }

@media (max-width: 480px) {
  .emergency-setting-card { flex-direction: column; align-items: stretch; }
  .emergency-setting-actions { justify-content: flex-end; }
}
